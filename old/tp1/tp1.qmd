---
title: "cartodyn"
author: "Nicolas, Ouegdraogo"
format: html
editor: visual
---

Test

```{ojs}
bertin = require("../lib/bertin.min.js")
```

XXX

```{ojs}
africa = FileAttachment("../data/africa.json").json()
africa
```

ATTENTYION : reformatyer les tableaux de données !

```{ojs}
africa_ndon = FileAttachment("../data/afrika_don.csv").csv({typed:true})
Inputs.table(africa_ndon)
```

XXX

```{ojs}
bertin.quickdraw(africa)
```

```{ojs}
bertin.match(africa, "ISO3", africa_ndon, "iso3")
data = bertin.merge(africa, "ISO3", africa_ndon, "iso3")
```

```{ojs}
bertin.draw(
{
params:{background:"#eeeee4", extent:africa, margin:30},
layers:[
  {type:"header", text:"POP TEST (attention données csv mal formatées)"},
  {type:"bubble", geojson:data, values: "POP", fill:"red", k:80, tooltip:["$name", "$POP"], leg_x:100, leg_y:500},
  {geojson:africa, fill:"#eab676"},
  {type:"geolines"},
  {type:"scalebar"},
  {type:"shadow", geojson:africa}
]})
```
